"use strict";(self.webpackChunkbierrallye_frontend=self.webpackChunkbierrallye_frontend||[]).push([[436],{436:(m,s,n)=>{n.r(s),n.d(s,{VerificationComponent:()=>v});var a=n(4755),c=n(3900),t=n(2223),f=n(9155),l=n(3144);let u=(()=>{class i{constructor(e){this.http=e}verify(e){return this.http.get(`https://bierrallye.meinhard.at/registration/verify?token=${e}`,{responseType:"text"})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(l.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var h=n(2018);function p(i,o){1&i&&(t.TgZ(0,"div")(1,"p",1),t._uU(2,"Prost! Ihr seid startklar!"),t.qZA()())}function d(i,o){1&i&&(t.TgZ(0,"div")(1,"p",1),t._uU(2,"Ohje! Das hat nicht geklappt."),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"Bitte wende dich an office@bierrallye-irnfritz.at"),t.qZA()())}let v=(()=>{class i{constructor(e,r,g){this.route=e,this.verificationService=r,this.toastr=g,this.successful=!1,this.loading=!0}ngOnInit(){this.route.queryParams.pipe((0,c.w)(e=>this.verificationService.verify(e.token))).subscribe(e=>{this.loading=!1,this.successful=!0,this.toastr.success(e,"Erfolgreich")},e=>{this.loading=!1,400===e.status?this.toastr.warning(e.error,"Achtung"):this.toastr.error("Ein unbekannter Fehler ist aufgetreten","Fehler")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.gz),t.Y36(u),t.Y36(h._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-verification"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[[4,"ngIf"],[1,"header"],[1,"description"]],template:function(e,r){1&e&&(t.YNc(0,p,3,0,"div",0),t.YNc(1,d,5,0,"div",0)),2&e&&(t.Q6J("ngIf",r.successful&&!r.loading),t.xp6(1),t.Q6J("ngIf",!r.successful&&!r.loading))},dependencies:[a.ez,a.O5]}),i})()}}]);