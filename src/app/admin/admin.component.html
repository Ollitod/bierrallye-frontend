<gpx-dynamic-table [columnSpecs]="columnSpecs"
                   [columnsExcludedFromSort]="['drink1', 'drink2', 'startblock', 'apply']"
                   [data]="registrations"
                   [rowColor]="'#FDF1CD'">

  <ng-template [gpxCustomColumn]="'active'" let-registration>
    <ng-container *ngIf="registration.active">
      <mat-icon class="green">check_circle</mat-icon>
    </ng-container>
    <ng-container *ngIf="!registration.active">
      <mat-icon class="red">cancel</mat-icon>
    </ng-container>
  </ng-template>

  <ng-template [gpxCustomColumn]="'drink1'" let-registration>
    {{registration.drink1.name}}
  </ng-template>

  <ng-template [gpxCustomColumn]="'drink2'" let-registration>
    {{registration.drink2.name}}
  </ng-template>

  <ng-template [gpxCustomColumn]="'startblock'" let-registration>
    {{registration.startblock.name}}
  </ng-template>

  <ng-template [gpxCustomColumn]="'apply'" let-registration>
    <button (click)="fillTeam(registration)" mat-raised-button [disabled]="!registration.active">
      <mat-icon>start</mat-icon>
    </button>
  </ng-template>
</gpx-dynamic-table>

<ng-container *ngIf="currentRegistration">
  <form [formGroup]="teamForm">
    <div class="form-container">
      <mat-form-field>
        <mat-label>Spieler 1</mat-label>
        <input formControlName="teamFirstMember" id="teamFirstMember" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Spieler 2</mat-label>
        <input formControlName="teamSecondMember" id="teamSecondMember" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Chip</mat-label>
        <input formControlName="chipId" id="chipId" matInput>
      </mat-form-field>
      <button (click)="createTeam()"
              [disabled]="!teamForm.valid"
              color="primary"
              mat-raised-button
              type="submit">
        Team erstellen
      </button>
    </div>
  </form>
</ng-container>
